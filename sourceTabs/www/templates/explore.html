<ion-view view-title="Explore">

  <!-- Nav Bar -->
  <ion-nav-bar class="bar-positive">
    <div class="bar bar-subheader">
      <div class="button-bar">
        <a ng-class="{ active: isSet(1) }" class="button" ng-click="setTab(1)">Recent</a>
        <a ng-class="{ active: isSet(2) }"class="button" ng-click="setTab(2)">Users</a>
        <a ng-class="{ active: isSet(3) }" class="button" ng-click="setTab(3)">Top</a>
      </div>
    </div>
  </ion-nav-bar>


  <ion-content>

      <!-- ALL -->
      <div ng-show="isSet(1)">
        <div class="list" ng-init="getAllArticles()" >
          <a ng-repeat="articles in articles"
            ui-sref="tabs.readerExplore( { articleID: articles._id} )"
             class="item item-thumbnail-left">
            <img src="{{articles.imageUrl}}">
            <h2>{{ articles.title }}</h2>
            <h4>{{ articles.username }}</h4>
            <img src="{{articles.gravatarURL}}" style="width: 20px; border-radius: 3em">
          </a>
        </div>
      </div>

      <!-- USERS -->
      <div ng-show="isSet(2)">
        <div class="list" style="xmax-width: 800px;" ng-init="getAllUsers()">
          <a ng-repeat="users in users"
            ui-sref="tabs.userExplore( { userID: users._id} )"
             class="item item-thumbnail-left">
            <img src="{{users.gravatarURL}}">
            <h2>{{ users.username }}</h2>
            <h4>{{ users.email }}</h4>
            <img src="{{articles.gravatarURL}}" style="width: 20px; border-radius: 3em">
          </a>
        </div>
      </div>

      <!-- TOP -->
      <div ng-show="isSet(3)">
        <div class="list" ng-init="getTopLiked()" >
          <a ng-repeat="topArticles in topArticles"
             href="#/reader/{{topArticles._id}}"
             class="item item-thumbnail-left">
            <img src="{{topArticles.imageUrl}}">
            <h2>{{ topArticles.title }}</h2>
            <h4>{{ topArticles.username }}</h4>
            <h4>Likes: {{ topArticles.likes.length }}</h4>
          </a>
        </div>
      </div>



  </ion-content>


</ion-view>
